# Meson cross-compilation file for Android ARMv7a
# Для совместимости со старыми устройствами

[binaries]
c = 'armv7a-linux-androideabi24-clang'
cpp = 'armv7a-linux-androideabi24-clang++'
ar = 'llvm-ar'
strip = 'llvm-strip'
ranlib = 'llvm-ranlib'
ld = 'ld.lld'
pkgconfig = 'pkg-config'

[properties]
needs_exe_wrapper = true
sys_root = '/opt/android-ndk/sysroot'

c_args = [
  '-DANDROID',
  '-D__ANDROID_API__=24',
  '-fPIC',
  '-march=armv7-a',
  '-mfloat-abi=softfp',
  '-mfpu=neon',
]

cpp_args = [
  '-DANDROID',
  '-D__ANDROID_API__=24',
  '-fPIC',
  '-march=armv7-a',
  '-mfloat-abi=softfp',
  '-mfpu=neon',
]

c_link_args = [
  '-Wl,--gc-sections',
  '-Wl,--fix-cortex-a8',
]

cpp_link_args = [
  '-Wl,--gc-sections',
  '-Wl,--fix-cortex-a8',
]

[host_machine]
system = 'android'
cpu_family = 'arm'
cpu = 'armv7-a'
endian = 'little'